<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>

	<head th:replace="commonspace :: page_head('Home - Book Quest')" />
	<link rel="stylesheet" href="../css/home.css" th:href="@{/css/home.css}" />

</head>

<body>
	<div th:replace="commonspace :: menu" />

	<div class="container">

		<div class="text-center my-3">찾고 싶은 도서명을 검색하세요. 🔍</div>

		<form th:action="@{/book}" style="text-align:center;">
			<input id="search" type="search" name="keyword" th:value="${keyword}" placeholder="  도서명 검색하기 ">
			<button type="submit" class="btn btn-primary">검색</button>
		</form>

	</div>

	<div id="recommendationList" th:each="recommendation : ${recommendationList}">
		<div id="bundleMent">
			<div th:text="${recommendation[0]}" />
			<div><a th:href="@{${recommendation[1]}}">더보기+</a></div>
		</div>
		<div id="bundleBooks">
			<div id="oneBookInfo" th:each="book : ${__${recommendation[2]}__}">
				<a th:href="@{/book/detail(book=${book.bookId})}">
					<img th:src="@{${book.imagePath}}" tilte="${book.image}" />
					<div th:text="${book.title}" />
					<div>
						<div th:text="${book.author}" />
						<div th:id="${book.discountRate == null or book.discountRate == 0} ? '' : 'preDiscountPrice'"
							th:text="${#numbers.formatDecimal(book.price, 0, 'COMMA', 0, 'POINT') + '원'}" />
						<div th:unless="${book.discountRate == null  or book.discountRate == 0}"
							th:text="'→ ' + ${#numbers.formatDecimal(book.price*(100-book.discountRate)/100, 0, 'COMMA', 0, 'POINT') + '원'} +' ('+ ${book.discountRate} + '% 할인)'" />
					</div>
				</a>
			</div>
		</div>
	</div>
	</div>

	<img th:src="@{/images/exe.jpg}" style="width:100%;" />

	<div th:replace="commonspace :: footer" />
</body>

</html>