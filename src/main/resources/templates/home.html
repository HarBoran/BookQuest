<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
	
    <head th:replace="commonspace :: page_head('Home - Book Quest')" />
    <link rel="stylesheet" th:href="@{/css/home.css}" />

</head>

<body>
    <div th:replace="commonspace :: menu"></div>

    <div id="demo" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        <ul class="carousel-indicators">
            <li data-target="#demo" data-slide-to="0" class="active"></li>
            <li data-target="#demo" data-slide-to="1"></li>
            <li data-target="#demo" data-slide-to="2"></li>
        </ul>

        <!-- The slideshow -->
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img th:src="@{/images/banner.jpg}" width="1100" height="500">
            </div>
            <div class="carousel-item">
                <img th:src="@{/images/banner.jpg}" width="1100" height="500">
            </div>
            <div class="carousel-item">
                <img th:src="@{/images/banner.jpg}" width="1100" height="500">
            </div>
        </div>

        <!-- Left and right controls -->
        <a class="carousel-control-prev" href="#demo" data-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </a>
        <a class="carousel-control-next" href="#demo" data-slide="next">
            <span class="carousel-control-next-icon"></span>
        </a>
    </div>

    <div id="search_box1">
        <div id="search_box2">
         <h1 id="search_text">찾고 싶은 도서명을 검색하세요 <img th:src="@{/images/search_icon2.png}" style="width:30px; height:30px; margin-left:5px;"></h1>
           
           <form th:action="@{/book}" style="text-align:center;">
           <div style="position: relative; display: inline-block;">
             <input id="search" type="search" name="keyword" th:value="${keyword}" placeholder="도서명 검색하기">
             <button type="submit" id="search_button"></button>
             <img th:src="@{/images/search_icon.png}" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); margin-right:12px;">
           </div>
         </form>
        </div>
    </div>

   <div id="recommendationList" th:each="recommendation : ${recommendationList}">
      <div id="bundleMent">
         <div th:text="${recommendation[0]}" />
         <div><a th:href="@{${recommendation[1]}}">더보기+</a></div>
      </div>
      <div id="bundleBooks">
         <div id="oneBookInfo" th:each="book : ${__${recommendation[2]}__}">
            <a th:href="@{/book/detail(book=${book.bookId})}">
               <img th:src="@{${book.imagePath}}" title="${book.image}" />
               <div th:text="${book.title}" />
               <div>
                  <div th:text="${book.author}" />
                  <div th:id="${book.discountRate == null or book.discountRate == 0} ? '' : 'preDiscountPrice'"
                     th:text="${#numbers.formatDecimal(book.price, 0, 'COMMA', 0, 'POINT')} + '원'" />
                  <div th:unless="${book.discountRate == null  or book.discountRate == 0}"
                     th:text="'→ ' + ${#numbers.formatDecimal(book.price*(100-book.discountRate)/100, 0, 'COMMA', 0, 'POINT')} + '원' +' ('+ ${book.discountRate} + '% 할인)'" />
               </div>
            </a>
         </div>
      </div>
   </div>
   </div>
   
   <div th:replace="commonspace :: footer"></div>
</body>

</html>